<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
			 xmlns:i="http://www.springframework.org/schema/integration"
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			 xsi:schemaLocation="
           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
           http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd
       ">
	<import resource="recipebook.xml"/>

	<i:channel id="recipes"/>

	<import resource="split-recipe-flow.xml"/>

	<i:channel id="ingredients"/>

	<import resource="shopping-flow.xml"/>

	<i:channel id="grocerybags"/>

	<i:bridge id="grocerybagUnpacker" input-channel="grocerybags" output-channel="products"/>

	<i:channel id="products"/>

	<import resource="kitchen.xml"/>

	<i:channel id="meals">
		<i:queue capacity="50"/>
	</i:channel>

	<i:poller default="true">
		<i:interval-trigger interval="1000"/>
	</i:poller>
</beans>